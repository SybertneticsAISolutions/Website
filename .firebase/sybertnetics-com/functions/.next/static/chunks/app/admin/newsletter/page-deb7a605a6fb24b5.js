(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7004],{516:(e,t,s)=>{"use strict";s.d(t,{A:()=>f});var a=s(5155),r=s(5695),l=s(7434),n=s(4869),c=s(7576),i=s(3717),d=s(5347),x=s(1154),o=s(4835),m=s(6203),h=s(5570),p=s(5488),u=s(6874),g=s.n(u);let y=[{href:"/admin/content",label:"Content Management",icon:l.A},{href:"/admin/page-content",label:"Page Content",icon:n.A},{href:"/admin/careers",label:"Manage Careers",icon:c.A},{href:"/admin/blog",label:"Manage Blog",icon:i.A},{href:"/admin/news",label:"Manage News",icon:d.A}];function f(e){let{children:t,title:s}=e,l=(0,r.useRouter)(),{user:n,loading:c}=(0,p.A)(),i=async()=>{try{await (0,m.CI)(h.j2),l.push("/admin/login")}catch(e){console.error("Logout error:",e)}};return c?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(x.A,{className:"w-8 h-8 animate-spin text-emerald-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):n?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsxs)("aside",{className:"fixed inset-y-0 left-0 bg-white w-64 p-4 shadow-md flex flex-col",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2 mb-10",children:(0,a.jsxs)(g(),{href:"/admin",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"S"})}),(0,a.jsx)("span",{className:"text-gray-900 font-semibold text-xl",children:"Admin Panel"})]})}),(0,a.jsx)("nav",{className:"flex-grow",children:y.map(e=>(0,a.jsxs)(g(),{href:e.href,className:"flex items-center space-x-3 text-gray-600 hover:bg-gray-100 p-2 rounded-md",children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:e.label})]},e.href))}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500 mb-2 px-2",children:["Signed in as: ",n.email]}),(0,a.jsxs)("button",{onClick:i,className:"flex items-center space-x-3 text-red-600 hover:bg-red-50 p-2 rounded-md w-full",children:[(0,a.jsx)(o.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Logout"})]})]})]}),(0,a.jsxs)("main",{className:"ml-64 p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:s}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:t})]})]}):(l.push("/admin/login"),null)}},1243:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1419:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>m});var a=s(5155),r=s(2115),l=s(7580),n=s(8883);let c=(0,s(9946).A)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);var i=s(1788),d=s(1154),x=s(1243),o=s(516);function m(){let[e,t]=(0,r.useState)([]),[s,m]=(0,r.useState)([]),[h,p]=(0,r.useState)(!0),[u,g]=(0,r.useState)(""),[y,f]=(0,r.useState)("all"),[j,w]=(0,r.useState)(new Set);(0,r.useEffect)(()=>{N()},[]);let b=(0,r.useCallback)(()=>{let t=e;"all"!==y&&(t=e.filter(e=>e.interests.includes(y)||e.source===y)),m(t)},[e,y]);(0,r.useEffect)(()=>{b()},[b]);let N=async()=>{try{p(!0),g("");let e=await fetch("/.netlify/functions/get-newsletter-subscriptions");if(!e.ok){if(401===e.status){window.location.href="/admin/login";return}throw Error("Failed to fetch subscriptions: ".concat(e.statusText))}let s=await e.json();t(s)}catch(e){g(e instanceof Error?e.message:"An unknown error occurred.")}finally{p(!1)}},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=new Blob([["Email,Name,Interests,Source,Signup Date,Status",...e.map(e=>[e.email,e.name||"",e.interests.join(";"),e.source,new Date(e.timestamp).toLocaleString(),e.status].map(e=>'"'.concat(e,'"')).join(","))].join("\n")],{type:"text/csv"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="newsletter-subscriptions-".concat(y,"-").concat(new Date().toISOString().split("T")[0],".csv"),r.click(),window.URL.revokeObjectURL(a)},k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=new Blob([e.map(e=>e.email).join(", ")],{type:"text/plain"}),a=window.URL.createObjectURL(t),r=document.createElement("a");r.href=a,r.download="newsletter-emails-".concat(y,"-").concat(new Date().toISOString().split("T")[0],".txt"),r.click(),window.URL.revokeObjectURL(a)},A=e=>{let t=new Set(j);t.has(e)?t.delete(e):t.add(e),w(t)};return(0,a.jsxs)(o.A,{title:"Newsletter Management",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l.A,{className:"w-8 h-8 text-blue-500"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Subscribers"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(n.A,{className:"w-8 h-8 text-green-500"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>"active"===e.status).length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(c,{className:"w-8 h-8 text-purple-500"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Filtered View"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]})]})}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(l.A,{className:"w-8 h-8 text-orange-500"}),(0,a.jsxs)("div",{className:"ml-4",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.filter(e=>{let t=new Date(e.timestamp),s=new Date;return s.setDate(s.getDate()-7),t>s}).length})]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 space-y-4 md:space-y-0",children:[(0,a.jsx)("div",{className:"flex items-center space-x-4",children:(0,a.jsxs)("select",{value:y,onChange:e=>f(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500",children:[(0,a.jsx)("option",{value:"all",children:"All Subscribers"}),(0,a.jsx)("optgroup",{label:"Interests",children:(()=>{let t=new Set;return e.forEach(e=>{e.interests.forEach(e=>t.add(e))}),Array.from(t)})().map(e=>(0,a.jsx)("option",{value:e,children:e},e))}),(0,a.jsx)("optgroup",{label:"Sources",children:(()=>{let t=new Set;return e.forEach(e=>t.add(e.source)),Array.from(t)})().map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]})}),(0,a.jsxs)("div",{className:"flex space-x-4",children:[(0,a.jsxs)("button",{onClick:()=>v(),className:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700",children:[(0,a.jsx)(i.A,{className:"w-5 h-5 mr-2"}),"Export CSV"]}),(0,a.jsxs)("button",{onClick:()=>k(),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 mr-2"}),"Export Emails"]}),(0,a.jsx)("button",{onClick:N,className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700",children:"Refresh"})]})]}),h&&(0,a.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,a.jsx)(d.A,{className:"w-8 h-8 animate-spin text-gray-500"}),(0,a.jsx)("p",{className:"ml-2 text-gray-500",children:"Loading subscriptions..."})]}),u&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-md mb-4",children:[(0,a.jsx)(x.A,{className:"w-5 h-5"}),(0,a.jsx)("p",{className:"text-sm",children:u})]}),!h&&!u&&(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:(0,a.jsx)("input",{type:"checkbox",checked:j.size===s.length&&s.length>0,onChange:()=>{j.size===s.length?w(new Set):w(new Set(s.map(e=>e.email)))},className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interests"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Signup Date"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("input",{type:"checkbox",checked:j.has(e.email),onChange:()=>A(e.email),className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.email}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.name||"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.interests.length>0?(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:e.interests.map(e=>(0,a.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:e},e))}):"-"}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.source}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.timestamp).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})})]},e.email))})]})}),0===s.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(n.A,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No subscriptions found"}),(0,a.jsx)("p",{className:"text-gray-500",children:"all"===y?"Newsletter subscriptions will appear here once people start signing up.":'No subscriptions found for "'.concat(y,'".')})]})]})]})}},1788:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]])},2837:(e,t,s)=>{Promise.resolve().then(s.bind(s,1419))},3717:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},4835:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]])},4869:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},5347:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("newspaper",[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]])},5488:(e,t,s)=>{"use strict";s.d(t,{A:()=>n});var a=s(2115),r=s(5570),l=s(6203);function n(){let[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)(!0);return(0,a.useEffect)(()=>(0,l.hg)(r.j2,e=>{t(e),n(!1)}),[]),{user:e,loading:s}}},5570:(e,t,s)=>{"use strict";s.d(t,{bN:()=>d,j2:()=>i});var a=s(3915),r=s(5317),l=s(6203),n=s(6864);let c=(0,a.Wp)({apiKey:"AIzaSyBQBNVFIUX4cv8iYMQ9vrh8dbfyraaqcPI",authDomain:"sybertnetics-webpage.firebaseapp.com",projectId:"sybertnetics-webpage",storageBucket:"sybertnetics-webpage.firebasestorage.app",messagingSenderId:"366404787585",appId:"1:366404787585:web:6b354b24a466b7d1875c80",measurementId:"G-BSRCLV2205"});(0,r.aU)(c);let i=(0,l.xI)(c);(0,n.P5)(c);let d=async(e,t)=>{try{let s=e;e.includes("@")||(s="".concat(e.toLowerCase(),"@sybertnetics.com"));let a=await (0,l.x9)(i,s,t);return{success:!0,user:a.user}}catch(e){return console.error("Error logging in:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}},7434:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7576:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]])},7580:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},8883:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(9946).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]])}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7811,6874,6413,8441,1684,7358],()=>t(2837)),_N_E=e.O()}]);