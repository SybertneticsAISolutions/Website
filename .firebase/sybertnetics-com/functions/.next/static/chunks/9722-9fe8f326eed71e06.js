"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9722],{516:(e,t,a)=>{a.d(t,{A:()=>f});var s=a(5155),r=a(5695),n=a(7434),l=a(4869),c=a(7576),i=a(3717),d=a(5347),o=a(1154),m=a(4835),x=a(6203),h=a(5570),u=a(5488),p=a(6874),g=a.n(p);let y=[{href:"/admin/content",label:"Content Management",icon:n.A},{href:"/admin/page-content",label:"Page Content",icon:l.A},{href:"/admin/careers",label:"Manage Careers",icon:c.A},{href:"/admin/blog",label:"Manage Blog",icon:i.A},{href:"/admin/news",label:"Manage News",icon:d.A}];function f(e){let{children:t,title:a}=e,n=(0,r.useRouter)(),{user:l,loading:c}=(0,u.A)(),i=async()=>{try{await (0,x.CI)(h.j2),n.push("/admin/login")}catch(e){console.error("Logout error:",e)}};return c?(0,s.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)(o.A,{className:"w-8 h-8 animate-spin text-emerald-600 mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):l?(0,s.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,s.jsxs)("aside",{className:"fixed inset-y-0 left-0 bg-white w-64 p-4 shadow-md flex flex-col",children:[(0,s.jsx)("div",{className:"flex items-center space-x-2 mb-10",children:(0,s.jsxs)(g(),{href:"/admin",className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-white font-bold text-lg",children:"S"})}),(0,s.jsx)("span",{className:"text-gray-900 font-semibold text-xl",children:"Admin Panel"})]})}),(0,s.jsx)("nav",{className:"flex-grow",children:y.map(e=>(0,s.jsxs)(g(),{href:e.href,className:"flex items-center space-x-3 text-gray-600 hover:bg-gray-100 p-2 rounded-md",children:[(0,s.jsx)(e.icon,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:e.label})]},e.href))}),(0,s.jsxs)("div",{className:"border-t pt-4",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-500 mb-2 px-2",children:["Signed in as: ",l.email]}),(0,s.jsxs)("button",{onClick:i,className:"flex items-center space-x-3 text-red-600 hover:bg-red-50 p-2 rounded-md w-full",children:[(0,s.jsx)(m.A,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:"Logout"})]})]})]}),(0,s.jsxs)("main",{className:"ml-64 p-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:a}),(0,s.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:t})]})]}):(n.push("/admin/login"),null)}},1243:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(9946).A)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},2525:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(9946).A)("trash-2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},5488:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(2115),r=a(5570),n=a(6203);function l(){let[e,t]=(0,s.useState)(null),[a,l]=(0,s.useState)(!0);return(0,s.useEffect)(()=>(0,n.hg)(r.j2,e=>{t(e),l(!1)}),[]),{user:e,loading:a}}},5570:(e,t,a)=>{a.d(t,{bN:()=>d,j2:()=>i});var s=a(3915),r=a(5317),n=a(6203),l=a(6864);let c=(0,s.Wp)({apiKey:"AIzaSyBQBNVFIUX4cv8iYMQ9vrh8dbfyraaqcPI",authDomain:"sybertnetics-webpage.firebaseapp.com",projectId:"sybertnetics-webpage",storageBucket:"sybertnetics-webpage.firebasestorage.app",messagingSenderId:"366404787585",appId:"1:366404787585:web:6b354b24a466b7d1875c80",measurementId:"G-BSRCLV2205"});(0,r.aU)(c);let i=(0,n.xI)(c);(0,l.P5)(c);let d=async(e,t)=>{try{let a=e;e.includes("@")||(a="".concat(e.toLowerCase(),"@sybertnetics.com"));let s=await (0,n.x9)(i,a,t);return{success:!0,user:s.user}}catch(e){return console.error("Error logging in:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}},9103:(e,t,a)=>{a.d(t,{A:()=>s});let s=(0,a(9946).A)("circle-plus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},9722:(e,t,a)=>{a.d(t,{A:()=>y});var s=a(5155),r=a(2115),n=a(9103),l=a(1154),c=a(1243),i=a(3717),d=a(2525),o=a(516),m=a(8947);function x(e){let{post:t,onSave:a,onCancel:n,contentType:l}=e,[c,i]=(0,r.useState)(t.title||""),[d,o]=(0,r.useState)(t.slug||""),[x,h]=(0,r.useState)(t.content||""),[u,p]=(0,r.useState)(!1),[g,y]=(0,r.useState)(!1),f=async()=>{if(!c.trim()||!d.trim())return void alert("Title and slug are required");p(!0);try{let e={title:c.trim(),slug:d.trim(),content:x,lastModified:new Date().toISOString(),type:l};await a(e)}finally{p(!1)}};return(0,s.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[(0,s.jsx)("div",{className:"border-b border-gray-200 p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:t.slug?"Edit ".concat(l):"Create New ".concat(l)}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)("button",{onClick:()=>y(!g),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:g?"Edit":"Preview"}),(0,s.jsx)("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,s.jsx)("button",{onClick:f,disabled:u,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-md disabled:opacity-50",children:u?"Saving...":"Save"})]})]})}),(0,s.jsxs)("div",{className:"p-4 space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Title"}),(0,s.jsx)("input",{type:"text",value:c,onChange:e=>i(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter ".concat(l," title...")})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Slug"}),(0,s.jsx)("input",{type:"text",value:d,onChange:e=>o(e.target.value),className:"w-full p-3 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"enter-slug-here"})]}),g?(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content Preview"}),(0,s.jsx)("div",{className:"prose max-w-none p-4 border border-gray-300 rounded-md bg-gray-50",children:(0,s.jsx)("div",{dangerouslySetInnerHTML:{__html:(()=>{try{return(0,m.xI)(x)}catch(e){return"<p>Error rendering preview</p>"}})()}})})]}):(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Content (Markdown)"}),(0,s.jsx)("textarea",{value:x,onChange:e=>h(e.target.value),className:"w-full h-96 p-4 border border-gray-300 rounded-md font-mono text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your markdown content here..."})]})]})]})}let h="/.netlify/functions/manage-content";async function u(e){let t=await fetch("".concat(h,"?type=").concat(e));if(!t.ok)throw 401===t.status&&(window.location.href="/admin/login"),Error("Failed to fetch posts: ".concat(t.statusText));return t.json()}async function p(e,t){return fetch(h,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...e,type:t})})}async function g(e,t){return fetch("".concat(h,"?type=").concat(t,"&slug=").concat(e),{method:"DELETE"})}function y(e){let{contentType:t}=e,[a,m]=(0,r.useState)([]),[h,y]=(0,r.useState)(null),[f,b]=(0,r.useState)(""),[j,w]=(0,r.useState)(!0),N=(0,r.useCallback)(async()=>{try{w(!0),b("");let e=await u(t);m(e)}catch(e){b(e instanceof Error?e.message:"An unknown error occurred.")}finally{w(!1)}},[t]);(0,r.useEffect)(()=>{N()},[N]);let v=async e=>{let a=await p(e,t);a.ok?(await N(),y(null)):b((await a.json()).error||"Failed to save ".concat(t,"."))},k=async e=>{if(window.confirm("Are you sure you want to delete this ".concat(t," post?"))){let a=await g(e,t);a.ok?await N():b((await a.json()).error||"Failed to delete ".concat(t,"."))}},A=t.slice(0,-1),C="Manage ".concat(t.charAt(0).toUpperCase()+t.slice(1));return h?(0,s.jsx)(o.A,{title:h.slug?"Edit ".concat(A):"Create New ".concat(A),children:(0,s.jsx)(x,{post:h,onSave:v,onCancel:()=>y(null),contentType:t})}):(0,s.jsxs)(o.A,{title:C,children:[(0,s.jsx)("div",{className:"flex justify-end mb-4",children:(0,s.jsxs)("button",{onClick:()=>y({}),className:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700",children:[(0,s.jsx)(n.A,{className:"w-5 h-5 mr-2"}),"Create New ",A]})}),j&&(0,s.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,s.jsx)(l.A,{className:"w-8 h-8 animate-spin text-gray-500"}),(0,s.jsx)("p",{className:"ml-2 text-gray-500",children:"Loading posts..."})]}),f&&(0,s.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-md mb-4",children:[(0,s.jsx)(c.A,{className:"w-5 h-5"}),(0,s.jsx)("p",{className:"text-sm",children:f})]}),!j&&!f&&(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,s.jsx)("thead",{className:"bg-gray-50",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,s.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,s.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,s.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,s.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.title}),(0,s.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.lastModified).toLocaleDateString()}),(0,s.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[(0,s.jsx)("button",{onClick:()=>y(e),className:"text-indigo-600 hover:text-indigo-900",children:(0,s.jsx)(i.A,{className:"w-5 h-5"})}),(0,s.jsx)("button",{onClick:()=>k(e.slug),className:"text-red-600 hover:text-red-900",children:(0,s.jsx)(d.A,{className:"w-5 h-5"})})]})]},e.slug))})]})})]})}}}]);