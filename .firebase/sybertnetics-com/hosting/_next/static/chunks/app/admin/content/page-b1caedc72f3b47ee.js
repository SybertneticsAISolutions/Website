(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9556],{516:(e,t,r)=>{"use strict";r.d(t,{A:()=>f});var a=r(5155),s=r(5695),n=r(7434),c=r(4869),o=r(7576),i=r(3717),l=r(5347),d=r(1154),m=r(4835),u=r(6203),h=r(5570),g=r(5488),x=r(6874),p=r.n(x);let b=[{href:"/admin/content",label:"Content Management",icon:n.A},{href:"/admin/page-content",label:"Page Content",icon:c.A},{href:"/admin/careers",label:"Manage Careers",icon:o.A},{href:"/admin/blog",label:"Manage Blog",icon:i.A},{href:"/admin/news",label:"Manage News",icon:l.A}];function f(e){let{children:t,title:r}=e,n=(0,s.useRouter)(),{user:c,loading:o}=(0,g.A)(),i=async()=>{try{await (0,u.CI)(h.j2),n.push("/admin/login")}catch(e){console.error("Logout error:",e)}};return o?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(d.A,{className:"w-8 h-8 animate-spin text-emerald-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):c?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsxs)("aside",{className:"fixed inset-y-0 left-0 bg-white w-64 p-4 shadow-md flex flex-col",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2 mb-10",children:(0,a.jsxs)(p(),{href:"/admin",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"S"})}),(0,a.jsx)("span",{className:"text-gray-900 font-semibold text-xl",children:"Admin Panel"})]})}),(0,a.jsx)("nav",{className:"flex-grow",children:b.map(e=>(0,a.jsxs)(p(),{href:e.href,className:"flex items-center space-x-3 text-gray-600 hover:bg-gray-100 p-2 rounded-md",children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:e.label})]},e.href))}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500 mb-2 px-2",children:["Signed in as: ",c.email]}),(0,a.jsxs)("button",{onClick:i,className:"flex items-center space-x-3 text-red-600 hover:bg-red-50 p-2 rounded-md w-full",children:[(0,a.jsx)(m.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Logout"})]})]})]}),(0,a.jsxs)("main",{className:"ml-64 p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:r}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:t})]})]}):(n.push("/admin/login"),null)}},2020:(e,t,r)=>{Promise.resolve().then(r.bind(r,6491))},4759:(e,t,r)=>{"use strict";r.d(t,{BW:()=>i,C3:()=>d,DG:()=>o,Ox:()=>c,Qe:()=>n,i2:()=>l});let a="https://us-central1-sybertnetics-webpage.cloudfunctions.net";async function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"POST",r=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;try{let n="".concat(a,"/").concat(e),c={"Content-Type":"application/json"};s&&(c.Authorization="Bearer ".concat(s));let o=await fetch(n,{method:t,headers:c,body:r?JSON.stringify(r):void 0}),i=await o.json();if(!o.ok)return{success:!1,error:i.error||"HTTP ".concat(o.status,": ").concat(o.statusText)};return{success:!0,data:i,message:i.message}}catch(t){return console.error("Error calling ".concat(e,":"),t),{success:!1,error:t instanceof Error?t.message:"Network error"}}}let n=async e=>s("betaSignup","POST",e),c=async e=>s("getBetaSignups","GET",void 0,e),o=async e=>s("contact","POST",e),i=async(e,t)=>{let r="".concat(a,"/getContent?path=").concat(encodeURIComponent(e));try{let e=await fetch(r,{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}),a=await e.json();if(!e.ok)return{success:!1,error:a.error||"HTTP ".concat(e.status,": ").concat(e.statusText)};return{success:!0,data:a.content}}catch(e){return console.error("Error getting page content:",e),{success:!1,error:e instanceof Error?e.message:"Network error"}}},l=async(e,t,r)=>{let s="".concat(a,"/saveContent?path=").concat(encodeURIComponent(e));try{let e=await fetch(s,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({content:t})}),a=await e.json();if(!e.ok)return{success:!1,error:a.error||"HTTP ".concat(e.status,": ").concat(e.statusText)};return{success:!0,message:a.message}}catch(e){return console.error("Error saving page content:",e),{success:!1,error:e instanceof Error?e.message:"Network error"}}},d=async()=>{try{let e=await fetch("/api/get-discord-member-count");return(await e.json()).memberCount||0}catch(e){return console.error("Error fetching Discord member count:",e),0}}},5488:(e,t,r)=>{"use strict";r.d(t,{A:()=>c});var a=r(2115),s=r(5570),n=r(6203);function c(){let[e,t]=(0,a.useState)(null),[r,c]=(0,a.useState)(!0);return(0,a.useEffect)(()=>(0,n.hg)(s.j2,e=>{t(e),c(!1)}),[]),{user:e,loading:r}}},5570:(e,t,r)=>{"use strict";r.d(t,{bN:()=>l,j2:()=>i});var a=r(3915),s=r(5317),n=r(6203),c=r(6864);let o=(0,a.Wp)({apiKey:"AIzaSyBQBNVFIUX4cv8iYMQ9vrh8dbfyraaqcPI",authDomain:"sybertnetics-webpage.firebaseapp.com",projectId:"sybertnetics-webpage",storageBucket:"sybertnetics-webpage.firebasestorage.app",messagingSenderId:"366404787585",appId:"1:366404787585:web:6b354b24a466b7d1875c80",measurementId:"G-BSRCLV2205"});(0,s.aU)(o);let i=(0,n.xI)(o);(0,c.P5)(o);let l=async(e,t)=>{try{let r=e;e.includes("@")||(r="".concat(e.toLowerCase(),"@sybertnetics.com"));let a=await (0,n.x9)(i,r,t);return{success:!0,user:a.user}}catch(e){return console.error("Error logging in:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}},6491:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(5155),s=r(2115),n=r(516),c=r(8947),o=r(4759),i=r(5488);function l(e){let{pagePath:t,onSave:r,onCancel:n}=e,[l,d]=(0,s.useState)(""),[m,u]=(0,s.useState)(!0),[h,g]=(0,s.useState)(!1),[x,p]=(0,s.useState)(!1),{user:b}=(0,i.A)(),f=async()=>{if(b)try{let e=await b.getIdToken(),r=await (0,o.BW)(t,e);r.success?d(r.data||""):(console.error("Error loading content:",r.error),d(""))}catch(e){console.error("Error loading content:",e),d("")}finally{u(!1)}};(0,s.useEffect)(()=>{b&&f()},[t,b]);let y=async()=>{g(!0);try{await r(l)}finally{g(!1)}};return m?(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-purple-500"})}):(0,a.jsxs)("div",{className:"bg-white rounded-lg shadow-lg",children:[(0,a.jsx)("div",{className:"border-b border-gray-200 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Edit Content: ",t]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)("button",{onClick:()=>p(!x),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:x?"Edit":"Preview"}),(0,a.jsx)("button",{onClick:n,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-md",children:"Cancel"}),(0,a.jsx)("button",{onClick:y,disabled:h,className:"px-4 py-2 text-sm font-medium text-white bg-purple-600 hover:bg-purple-700 rounded-md disabled:opacity-50",children:h?"Saving...":"Save"})]})]})}),(0,a.jsx)("div",{className:"p-4",children:x?(0,a.jsx)("div",{className:"prose max-w-none",children:(0,a.jsx)("div",{dangerouslySetInnerHTML:{__html:(()=>{try{return(0,c.xI)(l)}catch(e){return"<p>Error rendering preview</p>"}})()}})}):(0,a.jsx)("textarea",{value:l,onChange:e=>d(e.target.value),className:"w-full h-96 p-4 border border-gray-300 rounded-md font-mono text-sm focus:ring-2 focus:ring-purple-500 focus:border-transparent",placeholder:"Enter your markdown content here..."})})]})}let d=[{path:"home",name:"Home Page"},{path:"about",name:"About Page"},{path:"runedrive",name:"RuneDrive Main Page"},{path:"runedrive/about",name:"RuneDrive About Page"},{path:"runedrive/universe",name:"RuneDrive Universe Page"},{path:"runedrive/creators",name:"RuneDrive Creators Page"},{path:"runedrive/community",name:"RuneDrive Community Page"},{path:"runedrive/blog",name:"RuneDrive Blog Page"},{path:"runedrive/demo",name:"RuneDrive Demo Page"},{path:"solutions",name:"Solutions Page"},{path:"contact",name:"Contact Page"},{path:"careers",name:"Careers Page"}];function m(){let[e,t]=(0,s.useState)(null),[r,c]=(0,s.useState)(""),{user:m}=(0,i.A)(),u=async t=>{if(e&&m)try{let r=await m.getIdToken(),a=await (0,o.i2)(e,t,r);a.success?(c("Content saved successfully!"),setTimeout(()=>c(""),3e3)):(c("Error: ".concat(a.error)),setTimeout(()=>c(""),5e3))}catch(e){c("Network error. Please try again."),setTimeout(()=>c(""),5e3)}};return(0,a.jsx)(n.A,{title:"Content Management",children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-between",children:(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Content Management"})}),r&&(0,a.jsx)("div",{className:"p-4 rounded-md ".concat(r.includes("Error")?"bg-red-100 text-red-700":"bg-green-100 text-green-700"),children:r}),e?(0,a.jsx)(l,{pagePath:e,onSave:u,onCancel:()=>{t(null),c("")}}):(0,a.jsx)("div",{className:"bg-white rounded-lg shadow",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select a page to edit:"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(e=>(0,a.jsxs)("button",{onClick:()=>t(e.path),className:"p-4 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors text-left",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["Path: ",e.path]})]},e.path))})]})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[2992,7811,6874,6413,6871,8441,1684,7358],()=>t(2020)),_N_E=e.O()}]);