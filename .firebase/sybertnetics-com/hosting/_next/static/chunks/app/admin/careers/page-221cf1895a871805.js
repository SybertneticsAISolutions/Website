(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1714],{516:(e,s,t)=>{"use strict";t.d(s,{A:()=>j});var a=t(5155),r=t(5695),n=t(7434),l=t(4869),i=t(7576),c=t(3717),o=t(5347),d=t(1154),m=t(4835),x=t(6203),u=t(5570),h=t(5488),p=t(6874),g=t.n(p);let b=[{href:"/admin/content",label:"Content Management",icon:n.A},{href:"/admin/page-content",label:"Page Content",icon:l.A},{href:"/admin/careers",label:"Manage Careers",icon:i.A},{href:"/admin/blog",label:"Manage Blog",icon:c.A},{href:"/admin/news",label:"Manage News",icon:o.A}];function j(e){let{children:s,title:t}=e,n=(0,r.useRouter)(),{user:l,loading:i}=(0,h.A)(),c=async()=>{try{await (0,x.CI)(u.j2),n.push("/admin/login")}catch(e){console.error("Logout error:",e)}};return i?(0,a.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(d.A,{className:"w-8 h-8 animate-spin text-emerald-600 mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Loading admin panel..."})]})}):l?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,a.jsxs)("aside",{className:"fixed inset-y-0 left-0 bg-white w-64 p-4 shadow-md flex flex-col",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2 mb-10",children:(0,a.jsxs)(g(),{href:"/admin",className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-emerald-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-white font-bold text-lg",children:"S"})}),(0,a.jsx)("span",{className:"text-gray-900 font-semibold text-xl",children:"Admin Panel"})]})}),(0,a.jsx)("nav",{className:"flex-grow",children:b.map(e=>(0,a.jsxs)(g(),{href:e.href,className:"flex items-center space-x-3 text-gray-600 hover:bg-gray-100 p-2 rounded-md",children:[(0,a.jsx)(e.icon,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:e.label})]},e.href))}),(0,a.jsxs)("div",{className:"border-t pt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-500 mb-2 px-2",children:["Signed in as: ",l.email]}),(0,a.jsxs)("button",{onClick:c,className:"flex items-center space-x-3 text-red-600 hover:bg-red-50 p-2 rounded-md w-full",children:[(0,a.jsx)(m.A,{className:"w-5 h-5"}),(0,a.jsx)("span",{children:"Logout"})]})]})]}),(0,a.jsxs)("main",{className:"ml-64 p-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-6",children:t}),(0,a.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:s})]})]}):(n.push("/admin/login"),null)}},3290:(e,s,t)=>{Promise.resolve().then(t.bind(t,4444))},4444:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>A});var a=t(5155),r=t(2115),n=t(9103),l=t(1154),i=t(1243),c=t(3717),o=t(2525),d=t(516),m=t(2572),x=t(8292),u=t(9727),h=t(9144),p=t(2643),g=t(9621),b=t(5968),j=t(9140);let f=e=>{let{value:s,onChange:t}=e,r=(0,m.hG)({extensions:[x.A],content:s,onUpdate:e=>{let{editor:s}=e;t(s.getHTML())},editorProps:{attributes:{class:"prose prose-sm sm:prose lg:prose-lg xl:prose-2xl m-5 focus:outline-none min-h-[200px] border border-gray-300 rounded-md p-2"}}});return r?(0,a.jsxs)("div",{children:[(0,a.jsx)(m.mM,{editor:r,tippyOptions:{duration:100},children:(0,a.jsxs)("div",{className:"flex space-x-1 bg-gray-800 text-white p-1 rounded-md",children:[(0,a.jsx)("button",{onClick:()=>r.chain().focus().toggleBold().run(),className:r.isActive("bold")?"is-active":"",children:(0,a.jsx)(u.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>r.chain().focus().toggleItalic().run(),className:r.isActive("italic")?"is-active":"",children:(0,a.jsx)(h.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>r.chain().focus().toggleStrike().run(),className:r.isActive("strike")?"is-active":"",children:(0,a.jsx)(p.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>r.chain().focus().toggleCode().run(),className:r.isActive("code")?"is-active":"",children:(0,a.jsx)(g.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>r.chain().focus().toggleBulletList().run(),className:r.isActive("bulletList")?"is-active":"",children:(0,a.jsx)(b.A,{size:16})}),(0,a.jsx)("button",{onClick:()=>r.chain().focus().toggleOrderedList().run(),className:r.isActive("orderedList")?"is-active":"",children:(0,a.jsx)(j.A,{size:16})})]})}),(0,a.jsx)(m.$Z,{editor:r})]}):null};function y(e){let{job:s,onSave:t,onCancel:l}=e,[i,c]=(0,r.useState)((null==s?void 0:s.title)||""),[d,m]=(0,r.useState)((null==s?void 0:s.location)||""),[x,u]=(0,r.useState)((null==s?void 0:s.description)||""),[h,p]=(0,r.useState)((null==s?void 0:s.posterEmail)||""),[g,b]=(0,r.useState)((null==s?void 0:s.customQuestions)||[]),j=(e,s)=>{let t=[...g];t[e].question=s,b(t)},y=(e,s)=>{let t=[...g];t[e].required=s,b(t)},N=e=>{b(g.filter((s,t)=>t!==e))};return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Job Title"}),(0,a.jsx)("input",{id:"title",type:"text",value:i,onChange:e=>c(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700",children:"Location"}),(0,a.jsx)("input",{id:"location",type:"text",value:d,onChange:e=>m(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"posterEmail",className:"block text-sm font-medium text-gray-700",children:"Hiring Contact Email"}),(0,a.jsx)("input",{id:"posterEmail",type:"email",value:h,onChange:e=>p(e.target.value),required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Job Description"}),(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(f,{value:x,onChange:u})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Custom Questions"}),g.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center space-x-2 p-2 border rounded-md",children:[(0,a.jsx)("input",{type:"text",placeholder:"e.g., 'What is your expected salary?'",value:e.question,onChange:e=>j(s,e.target.value),className:"flex-grow px-3 py-2 border border-gray-300 rounded-md shadow-sm"}),(0,a.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",checked:e.required,onChange:e=>y(s,e.target.checked),className:"h-4 w-4 text-emerald-600 border-gray-300 rounded"}),(0,a.jsx)("span",{children:"Required"})]}),(0,a.jsx)("button",{onClick:()=>N(s),className:"text-red-500 hover:text-red-700",children:(0,a.jsx)(o.A,{size:18})})]},s)),(0,a.jsxs)("button",{type:"button",onClick:()=>{b([...g,{question:"",required:!1}])},className:"inline-flex items-center px-3 py-1.5 border border-dashed border-gray-400 text-sm font-medium rounded-md text-gray-700 hover:bg-gray-50",children:[(0,a.jsx)(n.A,{size:16,className:"mr-2"}),"Add Question"]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,a.jsx)("button",{type:"button",onClick:l,className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,a.jsx)("button",{type:"button",onClick:()=>{t({slug:s.slug||i.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""),title:i,location:d,description:x,posterEmail:h,customQuestions:g})},className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-emerald-600 hover:bg-emerald-700",children:"Save Job"})]})]})}let N="/.netlify/functions/manage-jobs";async function v(){let e=await fetch(N);if(!e.ok)throw 401===e.status&&(window.location.href="/admin/login"),Error("Failed to fetch jobs: ".concat(e.statusText));return e.json()}async function w(e){return fetch(N,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}async function k(e){return fetch("".concat(N,"?slug=").concat(e),{method:"DELETE"})}function A(){let[e,s]=(0,r.useState)([]),[t,m]=(0,r.useState)(null),[x,u]=(0,r.useState)(""),[h,p]=(0,r.useState)(!0),g=async()=>{try{p(!0),u("");let e=await v();s(e)}catch(e){u(e instanceof Error?e.message:"An unknown error occurred.")}finally{p(!1)}};(0,r.useEffect)(()=>{g()},[]);let b=async e=>{let s=await w(e);s.ok?(await g(),m(null)):u((await s.json()).error||"Failed to save job.")},j=async e=>{if(window.confirm("Are you sure you want to delete this job posting?")){let s=await k(e);s.ok?await g():u((await s.json()).error||"Failed to delete job.")}};return t?(0,a.jsx)(d.A,{title:t.slug?"Edit Job Posting":"Create New Job",children:(0,a.jsx)(y,{job:t,onSave:b,onCancel:()=>m(null)})}):(0,a.jsxs)(d.A,{title:"Manage Careers",children:[(0,a.jsx)("div",{className:"flex justify-end mb-4",children:(0,a.jsxs)("button",{onClick:()=>m({}),className:"inline-flex items-center px-4 py-2 bg-emerald-600 text-white rounded-md hover:bg-emerald-700",children:[(0,a.jsx)(n.A,{className:"w-5 h-5 mr-2"}),"Create New Job"]})}),h&&(0,a.jsxs)("div",{className:"flex justify-center items-center p-8",children:[(0,a.jsx)(l.A,{className:"w-8 h-8 animate-spin text-gray-500"}),(0,a.jsx)("p",{className:"ml-2 text-gray-500",children:"Loading jobs..."})]}),x&&(0,a.jsxs)("div",{className:"flex items-center space-x-2 text-red-600 bg-red-50 p-3 rounded-md mb-4",children:[(0,a.jsx)(i.A,{className:"w-5 h-5"}),(0,a.jsx)("p",{className:"text-sm",children:x})]}),!h&&!x&&(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Title"}),(0,a.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Location"}),(0,a.jsx)("th",{scope:"col",className:"relative px-6 py-3",children:(0,a.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.title}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.location}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[(0,a.jsx)("button",{onClick:()=>m(e),className:"text-indigo-600 hover:text-indigo-900",children:(0,a.jsx)(c.A,{className:"w-5 h-5"})}),(0,a.jsx)("button",{onClick:()=>j(e.slug),className:"text-red-600 hover:text-red-900",children:(0,a.jsx)(o.A,{className:"w-5 h-5"})})]})]},e.slug))})]})})]})}},5488:(e,s,t)=>{"use strict";t.d(s,{A:()=>l});var a=t(2115),r=t(5570),n=t(6203);function l(){let[e,s]=(0,a.useState)(null),[t,l]=(0,a.useState)(!0);return(0,a.useEffect)(()=>(0,n.hg)(r.j2,e=>{s(e),l(!1)}),[]),{user:e,loading:t}}},5570:(e,s,t)=>{"use strict";t.d(s,{bN:()=>o,j2:()=>c});var a=t(3915),r=t(5317),n=t(6203),l=t(6864);let i=(0,a.Wp)({apiKey:"AIzaSyBQBNVFIUX4cv8iYMQ9vrh8dbfyraaqcPI",authDomain:"sybertnetics-webpage.firebaseapp.com",projectId:"sybertnetics-webpage",storageBucket:"sybertnetics-webpage.firebasestorage.app",messagingSenderId:"366404787585",appId:"1:366404787585:web:6b354b24a466b7d1875c80",measurementId:"G-BSRCLV2205"});(0,r.aU)(i);let c=(0,n.xI)(i);(0,l.P5)(i);let o=async(e,s)=>{try{let t=e;e.includes("@")||(t="".concat(e.toLowerCase(),"@sybertnetics.com"));let a=await (0,n.x9)(c,t,s);return{success:!0,user:a.user}}catch(e){return console.error("Error logging in:",e),{success:!1,error:e instanceof Error?e.message:"Unknown error"}}}}},e=>{var s=s=>e(e.s=s);e.O(0,[2992,7811,5004,277,6874,6413,2230,8441,1684,7358],()=>s(3290)),_N_E=e.O()}]);